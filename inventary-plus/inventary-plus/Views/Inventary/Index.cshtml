@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

@{
    ViewData["Title"] = "Sign Up";
}



<body class="bg-info">
    <div class="col-12 col-md-9 col-lg-7 col-xl-6 m-auto w-100 pt-4">
        <form id="form" class="bg-white my-auto" style="border-radius: 20px">
            <div class="mt-4 mb-4">
                <h1 class="font-weight-bold text-center">Sign Up</h1>
            </div>
            <div class="mt-4 mb-4 ml-4 mr-4 pt-4">
                <label class="font-weight-bold" for="first-name">Usuario</label>
                <input type="text" name="user" id="userName" placeholder="Tu usuario" class="form-control form-control-lg rounded" />
            </div>
            <div class="mb-4 ml-4 mr-4">
                <label class="font-weight-bold" for="email">Email</label>
                <input type="email" name="email" id="email" placeholder="Your@email.com" class="form-control form-control-lg rounded" />
            </div>
            <div class="mb-5 ml-4 mr-4">
                <label class="font-weight-bold" for="password">Contraseña</label>
                <input type="password" name="password" id="password" placeholder="Tu contraseña" class="form-control form-control-lg rounded" />
            </div>
            <div class="mb-3 ml-4 mr-4 pb-2">
                <input type="submit" value="Submit" class="btn btn-primary btn-block btn-lg gradient-custom-4 font-weight-bold text-white rounded" />
            </div>
            <div class="alert-field">

            </div>
            <p class="text-center pb-2 pt-2 text-muted">Have already an account? <a asp-action="LogIn" asp-controller="Inventary">Log In</a></p>

            @*<p class="text-center pb-2 text-muted">Have already an account? <a href="#" class="fw-bold text-body"><u>Login here</u></a></p>*@

            @*<a asp-action="LogIn" asp-controller="Inventary">Home</a>*@
        </form>
    </div>
</body>

<script>
    let form = document.querySelector('#form');
    let alertField = document.querySelector('.alert-field');

    document.addEventListener('DOMContentLoaded', () => {
        form.addEventListener('submit', dataValidation);
    });

    function dataValidation(e) {
        e.preventDefault();

        let userName = document.querySelector('#userName').value;
        let userEmail = document.querySelector('#email').value;
        let userPassword = document.querySelector('#password').value;

        if (userName == '' ||  userEmail == '' || userPassword == '') {
            showAlert('All fields are required', 'error');

            return;
        }


        showAlert('All the fields were fulfilled');

    }

    function showAlert(message, type) {
        let existingAlert = document.querySelector('.alerta');

        if (!existingAlert) {
            let alert = document.createElement('p');
            alert.classList.add('text-center', 'alert', 'font-weight-bold', 'd-block', 'm-auto', 'mb-2', 'alerta');

            if (type == 'error') {
                alert.classList.add('alert-danger');
            } else {
                alert.classList.add('alert-success');
            }

            alert.textContent = message;

            alertField.appendChild(alert);

            setTimeout(() => {
                alert.remove();
            }, 3000);
        }
    }

</script>